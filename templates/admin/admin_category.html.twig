{% extends 'base.html.twig' %}

{% block title %}Mon Blog symfony | Gestion des category{% endblock %}



{% block body %}
        <h1 class="display-4 text-center my-4">Back office | Gestion des categories <small><a href="{{ path('admin_new_category') }}" alt="" class="btn btn-primary"> New category</a></small></h1>

         {% for label, messages in app.flashes(['danger', 'success']) %}

            {% for message in messages %}

            <div class="bg-{{ label }} text-white text-center col-md-3 mx-auto rounded mb-3">
            {{ message }}
            </div>

            {% endfor %}

        {% endfor %}

        <table class="table table-dark table-bordered text-center">

            <tr>
            {% for data in colonnes %}

                <th>{{ data|upper }}</th>
                
            {% endfor %}

                <th>Nb Articles</th>
                <th>Edit</th>
                <th>supp</th>
            </tr>    

            {% for data in categories %}

                <tr>
                    <td>{{ data.id }}</td>
                    <td>{{ data.title }}</td>
                    <td>{{ data.description }}</td>
                    <td>{{ data.article|length}}</td>

                    <td><a href="{{ path('admin_edit_category', {'id': data.id }) }}" class="btn btn-primary text-white"><i class="fas fa-edit fa-1x"></i></a></td>
                    <td><a href="{{ path('admin_delete_category', {'id': data.id}) }}" class="btn btn-danger text-white" onclick="return(confirm('voulez vous vraiment supprimer cet categorie ?'))"><i class="fas fa-trash fa-1x"></i></a></td>



                </tr>                
            {% endfor %}

        </table>








{% endblock %}